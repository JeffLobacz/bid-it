<p>

<style>
  .center {
    text-align: center;
  }
  .right {
    text-align: right;
  }
  tr:nth-child(even){background-color: #f2f2f2}*/
* { padding: 0; margin: 0; }
  table.shifts {
    font-family: verdana;
    font-size: 12px;
    border-collapse: collapse;
    width: 100%;
    }
  table.shifts th, table.shifts td {
    border-left: 1px solid #999;
    border-right: 1px solid #999;
    border-bottom: 1px solid #999;
    padding: 2px;
    height: 30px;
    }
  table.shifts th {
    background-color: #4CAF50;
    color: white;
  }
  div.scrollableContainer {
    position: relative;
    /*left: 25px;*/
    width: 100%;
    border: 1px solid black;
    padding-top: 2.2em;
    }
  div.scrollingArea {
    height: 350px;
    /*width: 100%;*/
    overflow: auto;
    /*position: inherit;*/
    }
  table.scrollable thead tr {
    left: 0; top: 0;
    /*position: inherit;*/
    }
  table.shifts .watch { width: 40px; text-align:center; }
  table.shifts .num    { width: 25px; text-align:center; }
  table.shifts .name     { width: 107px; text-align:center; }
  table.shifts .area  { width: 40px; text-align:center; }
  table.shifts .off   { width: 35px; text-align:center; }
  table.shifts .hours   { width: 20px; text-align:center; }
  table.shifts .weekly   { width: 30px; text-align:center; }
  table.shifts .sun   { width: 110px; text-align:center; }
  table.shifts .mon   { width: 110px; text-align:center; }
  table.shifts .tue   { width: 110px; text-align:center; }
  table.shifts .wed   { width: 110px; text-align:center; }
  table.shifts .thu   { width: 110px; text-align:center; }
  table.shifts .fri   { width: 110px; text-align:center; }
  table.shifts .sat   { width: 110px; text-align:center; }
</style>

<div class="row">
  <div class="col-md-10">
    <%= link_to "Bid Times", users_cc_path, class: 'btn btn-success' %>
  </div>
  <div class="col-md-2">
    <div class="right">
      <%= link_to "Bid Sheet", shifts_cc_path, class: 'btn btn-success' %>
    </div>
  </div>
</div>
<br>
<% if @user.errors.any? %>
  <div class="alert alert-danger">
    <h4><%= pluralize(@user.errors.count, "error") %>:</h4>
    <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<div class="center">
  <h4 style="display: inline">Bidder:  </h4><h2 style="display: inline; color:red"><%= @user.first_name %> <%= @user.last_name %></h2>
  <br>
  <h4 style="display: inline">Employee #:  </h4><h3 style="display: inline; color:red"><%= @user.employee_number %></h3>
  <br>
  <h4 style="display: inline">Status:  </h4><h3 style="display: inline; color:red"><%= @user.employment_status %></h3>
  <br>
  <h4 style="display: inline">Phone #:  </h4><h3 style="display: inline; color:red"> (Phone number)</h3>
  <br>
  <% if @number != nil %>
    <%= @number %>
  <% else %>
    @number is nil
  <% end %>
  <br>
  <input type="number_field" id="shiftEntry">
  <p></p>
  <button id="showShift">Show Shift</button>
  <br>
  <br>
  <table class="shifts scrollable">
    <thead>
      <tr>
        <th><div class="num">#</div></th>
        <th><div class="name">Name</div></th>
        <th><div class="area">Area</div></th>
        <th><div class="off">Off</div></th>
        <th><div class="hours">Hrs</div></th>
        <th><div class="weekly">Wk</div></th>
        <th><div class="sun">Sunday</div></th>
        <th><div class="mon">Monday</div></th>
        <th><div class="tue">Tuesday</div></th>
        <th><div class="wed">Wednesday</div></th>
        <th><div class="thu">Thursday</div></th>
        <th><div class="fri">Friday</div></th>
        <th><div class="sat">Saturday</div></th>
      </tr>
      <br>
    </thead>
    <tbody>
      <% if @number != nil %>
        <% shift = Shift.find_by(id: @number) %>
      <% else %>
        <% shift = Shift.find_by(id: 2) %>
      <% end %>
      <%# @shifts.sort_by_id.each do |shift| %>
        <tr>
          <%# Create an if/elseif that will reflect the different options to view %>
          <%# if shift.employment_status == "CC" && shift.id == @number %>
            <div id="weeklyShifts">
                <td><div class="num"><%= shift.id %></div></td>
              <% if User.find_by(shift_id: shift.id) != nil %>
                <td><div class="name"><%= User.find_by(shift_id: shift.id).first_name + " " + User.find_by(shift_id: shift.id).last_name %></div></td>
              <% else %>
                <td><div class="name"></div></td>
              <% end %>
              <td><div class="area"><%= shift.detail_location %></div></td>
              <td><div class="off"><%= shift.days_off %></div></td>
              <td><div class="hours"><%= shift.day_hours %></div></td>
              <td><div class="weekly"><%= shift.total_hours %></div></td>
              <% unless shift.days_off.include? "S" %>
                <td>
                  <div class="sun">
                    <%= shift.sun_start_time.strftime("%H%M") %>-<%= shift.sun_quit_time.strftime("%H%M") %>
                    <b><%= shift.sun_location %></b>
                  </div>
                </td>
              <% else %>
                <td><div class="sun">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "M" %>
                <td>
                  <div class="mon">
                    <%= shift.mon_start_time.strftime("%H%M") %>-<%= shift.mon_quit_time.strftime("%H%M") %>
                    <h style="color:rgb(255,0,0)"><%= shift.mon_location %>
                  </div>
                </td>
              <% else %>
              <td><div class="mon">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "T" %>
                <td>
                  <div class="tue">
                    <%= shift.tue_start_time.strftime("%H%M") %>-<%= shift.tue_quit_time.strftime("%H%M") %>
                    <b><%= shift.tue_location %></b>
                  </div>
                </td>
              <% else %>
                <td><div class="tue">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "W" %>
                <td>
                  <div class="wed">
                    <%= shift.wed_start_time.strftime("%H%M") %>-<%= shift.wed_quit_time.strftime("%H%M") %>
                    <b><%= shift.wed_location %></b>
                  </div>
                </td>
              <% else %>
              <td><div class="wed">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "Q" %>
                <td>
                  <div class="thu">
                    <%= shift.thu_start_time.strftime("%H%M") %>-<%= shift.thu_quit_time.strftime("%H%M") %>
                    <b><%= shift.thu_location %></b>
                  </div>
                </td>
              <% else %>
                <td><div class="thu">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "F" %>
                <td>
                  <div class="fri">
                    <%= shift.fri_start_time.strftime("%H%M") %>-<%= shift.fri_quit_time.strftime("%H%M") %>
                    <b><%= shift.fri_location %></b>
                  </div>
                </td>
              <% else %>
                <td><div class="fri">off</div></td>
              <% end %>
              <% unless shift.days_off.include? "J" %>
                <td>
                  <div class="sat">
                    <%= shift.sat_start_time.strftime("%H%M") %>-<%= shift.sat_quit_time.strftime("%H%M") %>
                    <b><%= shift.sat_location %></b>
                  </div>
                </td>
              <% else %>
                <td><div class="sat">off</div></td>
              <% end %>
            </div>
          <%# end %>
        </tr>
      <%# end %>
    </tbody>
  </table>
  <br>
  <% if @number != nil %>
    <%= @number %>
  <% else %>
    @number is nil
  <% end %>
  <br>
  <%= form_for @user do |f| %>
    <%#= f.number_field :shift_id, class: 'number_field', placeholder: "Shift #" %>
    <p>
    <div class="form-group">
      <%= f.submit "Accept", class: 'btn btn-success' %>
    </div>
  <% end %>
</div>
